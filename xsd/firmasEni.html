<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<title>firmas (firmasEni)</title>
<link href="/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180"/>
<link href="/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png"/>
<link href="/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png"/>
<link href="/site.webmanifest" rel="manifest"/>
<link color="#5bbad5" href="/safari-pinned-tab.svg" rel="mask-icon"/>
<meta content="#da532c" name="msapplication-TileColor"/>
<meta content="#ffffff" name="theme-color"/>
<link href="../theme/css/main.css" rel="stylesheet" type="text/css"/>
<link href="../theme/css/print.css" media="print" rel="stylesheet" type="text/css"/>
<link href="../theme/css/custom.css" rel="stylesheet" type="text/css"/>
<link href="../feeds/all.atom.xml" rel="alternate" title="Apuntes GSI Atom Feed" type="application/atom+xml"/>
</head>
<body class="home xsd_firmaseni" id="index">
<header id="banner">
<div class="body">
<p style="margin: 0px 0px 5px 0px;color: red;">
        Aviso: Todo el contenido didáctico dejó de actualizarse en marzo de 2022.
      </p>
<nav aria-label="Breadcrumb" class="breadcrumb">
<ol>
<li><a href="..">Apuntes GSI</a></li>
<li><a href="../category/xsd.html">Diagramas XSD</a></li>
<li>firmas (firmasEni)</li>
</ol>
</nav>
<p>Fuente: <a href="http://administracionelectronica.gob.es/ENI/XSD/v1.0/firma/firmasEni.xsd" target="_blank">administracionelectronica.gob.es/ENI/XSD/v1.0/firma/firmasEni.xsd</a></p> </div>
</header>
<main><div class="body">
<section class="body" id="content">
<article>
<div class="widthscroll" id="firmas">
<pre><code><a class="regis_cosnier_free_fr" href="http://regis.cosnier.free.fr/?page=XSDDiagram" target="_blank">xsddiagram</a> -no-gui -y -r firmas -e 4 -o <a href="firmasEni/firmas.csv">firmas.csv</a> http://administracionelectronica.gob.es/ENI/XSD/v1.0/firma/firmasEni.xsd
<a class="regis_cosnier_free_fr" href="http://regis.cosnier.free.fr/?page=XSDDiagram" target="_blank">xsddiagram</a> -no-gui -y -r firmas -e 4 -o <a href="firmasEni/firmas.txt">firmas.txt</a> http://administracionelectronica.gob.es/ENI/XSD/v1.0/firma/firmasEni.xsd
<a class="regis_cosnier_free_fr" href="http://regis.cosnier.free.fr/?page=XSDDiagram" target="_blank">xsddiagram</a> -no-gui -y -r firmas -e 4 -o <a href="firmasEni/firmas.png">firmas.png</a> http://administracionelectronica.gob.es/ENI/XSD/v1.0/firma/firmasEni.xsd
<a class="regis_cosnier_free_fr" href="http://regis.cosnier.free.fr/?page=XSDDiagram" target="_blank">xsddiagram</a> -no-gui -y -r firmas -e 4 -o <a href="firmasEni/firmas.svg">firmas.svg</a> http://administracionelectronica.gob.es/ENI/XSD/v1.0/firma/firmasEni.xsd</code></pre>
</div>
<p><img alt="Diagrama de firmas (firmasEni.xsd)" src="firmasEni/firmas.png" title="Diagrama de firmas (firmasEni.xsd)"/></p>
<div class="highlight"><pre><span></span><code><span class="go">curl -L http://administracionelectronica.gob.es/ENI/XSD/v1.0/firma/firmasEni.xsd</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;xsd:schema</span><span class="w"> </span>
<span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span><span class="w"> </span>
<span class="na">xmlns:enids=</span><span class="s">"http://administracionelectronica.gob.es/ENI/XSD/v1.0/firma"</span><span class="w"> </span>
<span class="na">xmlns:ds=</span><span class="s">"http://www.w3.org/2000/09/xmldsig#"</span><span class="w"> </span>
<span class="na">targetNamespace=</span><span class="s">"http://administracionelectronica.gob.es/ENI/XSD/v1.0/firma"</span><span class="w"> </span>
<span class="na">elementFormDefault=</span><span class="s">"qualified"</span><span class="w"> </span><span class="na">attributeFormDefault=</span><span class="s">"unqualified"</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;xsd:annotation&gt;</span>
<span class="w">        </span><span class="nt">&lt;xsd:documentation</span><span class="w"> </span><span class="na">xml:lang=</span><span class="s">"es"</span><span class="nt">&gt;</span>XSD<span class="w"> </span>FIRMAS<span class="w"> </span>ELECTRONICAS<span class="w"> </span>ENI<span class="w"> </span>(v1.0)<span class="nt">&lt;/xsd:documentation&gt;</span>
<span class="w">    </span><span class="nt">&lt;/xsd:annotation&gt;</span>
<span class="w">    </span><span class="nt">&lt;xsd:import</span><span class="w"> </span><span class="na">namespace=</span><span class="s">"http://www.w3.org/2000/09/xmldsig#"</span><span class="w"> </span><span class="na">schemaLocation=</span><span class="s">"http://www.w3.org/TR/xmldsig-core/xmldsig-core-schema.xsd"</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;xsd:element</span><span class="w"> </span><span class="na">name=</span><span class="s">"firmas"</span><span class="w"> </span><span class="na">type=</span><span class="s">"enids:firmas"</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;xsd:complexType</span><span class="w"> </span><span class="na">name=</span><span class="s">"firmas"</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;xsd:sequence&gt;</span>
<span class="w">            </span><span class="nt">&lt;xsd:element</span><span class="w"> </span><span class="na">name=</span><span class="s">"firma"</span><span class="w"> </span><span class="na">type=</span><span class="s">"enids:TipoFirmasElectronicas"</span><span class="w"> </span><span class="na">minOccurs=</span><span class="s">"1"</span><span class="w"> </span><span class="na">maxOccurs=</span><span class="s">"unbounded"</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;/xsd:sequence&gt;</span>
<span class="w">    </span><span class="nt">&lt;/xsd:complexType&gt;</span>
<span class="w">    </span><span class="nt">&lt;xsd:complexType</span><span class="w"> </span><span class="na">name=</span><span class="s">"TipoFirmasElectronicas"</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;xsd:sequence&gt;</span>
<span class="w">            </span><span class="nt">&lt;xsd:element</span><span class="w"> </span><span class="na">name=</span><span class="s">"TipoFirma"</span><span class="nt">&gt;</span>
<span class="w">                </span><span class="nt">&lt;xsd:annotation&gt;</span>
<span class="w">                    </span><span class="nt">&lt;xsd:documentation</span><span class="w"> </span><span class="na">xml:lang=</span><span class="s">"es"</span><span class="nt">&gt;</span>-<span class="w"> </span>TF01<span class="w"> </span>-<span class="w"> </span>CSV.<span class="w">  </span>
-<span class="w"> </span>TF02<span class="w"> </span>-<span class="w"> </span>XAdES<span class="w"> </span>internally<span class="w"> </span>detached<span class="w"> </span>signature.<span class="w">   </span>
-<span class="w"> </span>TF03<span class="w"> </span>-<span class="w"> </span>XAdES<span class="w"> </span>enveloped<span class="w"> </span>signature.<span class="w">     </span>
-<span class="w"> </span>TF04<span class="w"> </span>-<span class="w"> </span>CAdES<span class="w"> </span>detached/explicit<span class="w"> </span>signature.<span class="w"> </span>
-<span class="w"> </span>TF05<span class="w"> </span>-<span class="w"> </span>CAdES<span class="w"> </span>attached/implicit<span class="w"> </span>signature.<span class="w"> </span>
-<span class="w"> </span>TF06<span class="w"> </span>-<span class="w"> </span>PAdES.<span class="nt">&lt;/xsd:documentation&gt;</span>
<span class="w">                </span><span class="nt">&lt;/xsd:annotation&gt;</span>
<span class="w">                </span><span class="nt">&lt;xsd:simpleType&gt;</span>
<span class="w">                    </span><span class="nt">&lt;xsd:restriction</span><span class="w"> </span><span class="na">base=</span><span class="s">"xsd:string"</span><span class="nt">&gt;</span>
<span class="w">                        </span><span class="nt">&lt;xsd:enumeration</span><span class="w"> </span><span class="na">value=</span><span class="s">"TF01"</span><span class="nt">/&gt;</span>
<span class="w">                        </span><span class="nt">&lt;xsd:enumeration</span><span class="w"> </span><span class="na">value=</span><span class="s">"TF02"</span><span class="nt">/&gt;</span>
<span class="w">                        </span><span class="nt">&lt;xsd:enumeration</span><span class="w"> </span><span class="na">value=</span><span class="s">"TF03"</span><span class="nt">/&gt;</span>
<span class="w">                        </span><span class="nt">&lt;xsd:enumeration</span><span class="w"> </span><span class="na">value=</span><span class="s">"TF04"</span><span class="nt">/&gt;</span>
<span class="w">                        </span><span class="nt">&lt;xsd:enumeration</span><span class="w"> </span><span class="na">value=</span><span class="s">"TF05"</span><span class="nt">/&gt;</span>
<span class="w">                        </span><span class="nt">&lt;xsd:enumeration</span><span class="w"> </span><span class="na">value=</span><span class="s">"TF06"</span><span class="nt">/&gt;</span>
<span class="w">                    </span><span class="nt">&lt;/xsd:restriction&gt;</span>
<span class="w">                </span><span class="nt">&lt;/xsd:simpleType&gt;</span>
<span class="w">            </span><span class="nt">&lt;/xsd:element&gt;</span>
<span class="w">            </span><span class="nt">&lt;xsd:element</span><span class="w"> </span><span class="na">name=</span><span class="s">"ContenidoFirma"</span><span class="nt">&gt;</span>
<span class="w">                </span><span class="nt">&lt;xsd:complexType&gt;</span>
<span class="w">                    </span><span class="nt">&lt;xsd:choice&gt;</span>
<span class="w">                        </span><span class="nt">&lt;xsd:element</span><span class="w"> </span><span class="na">name=</span><span class="s">"CSV"</span><span class="nt">&gt;</span>
<span class="w">                            </span><span class="nt">&lt;xsd:complexType&gt;</span>
<span class="w">                                </span><span class="nt">&lt;xsd:sequence&gt;</span>
<span class="w">                                    </span><span class="nt">&lt;xsd:element</span><span class="w"> </span><span class="na">name=</span><span class="s">"ValorCSV"</span><span class="w"> </span><span class="na">type=</span><span class="s">"xsd:string"</span><span class="nt">/&gt;</span>
<span class="w">                                    </span><span class="nt">&lt;xsd:element</span><span class="w"> </span><span class="na">name=</span><span class="s">"RegulacionGeneracionCSV"</span><span class="w"> </span><span class="na">type=</span><span class="s">"xsd:string"</span><span class="nt">/&gt;</span>
<span class="w">                                </span><span class="nt">&lt;/xsd:sequence&gt;</span>
<span class="w">                            </span><span class="nt">&lt;/xsd:complexType&gt;</span>
<span class="w">                        </span><span class="nt">&lt;/xsd:element&gt;</span>
<span class="w">                        </span><span class="nt">&lt;xsd:element</span><span class="w"> </span><span class="na">name=</span><span class="s">"FirmaConCertificado"</span><span class="nt">&gt;</span>
<span class="w">                            </span><span class="nt">&lt;xsd:complexType&gt;</span>
<span class="w">                                </span><span class="nt">&lt;xsd:choice&gt;</span>
<span class="w">                                    </span><span class="nt">&lt;xsd:element</span><span class="w"> </span><span class="na">name=</span><span class="s">"FirmaBase64"</span><span class="w"> </span><span class="na">type=</span><span class="s">"xsd:base64Binary"</span><span class="nt">/&gt;</span>
<span class="w">                                    </span><span class="nt">&lt;xsd:element</span><span class="w"> </span><span class="na">ref=</span><span class="s">"ds:Signature"</span><span class="nt">/&gt;</span>
<span class="w">                                    </span><span class="nt">&lt;xsd:element</span><span class="w"> </span><span class="na">name=</span><span class="s">"ReferenciaFirma"</span><span class="nt">&gt;</span>
<span class="w">                                        </span><span class="nt">&lt;xsd:annotation&gt;</span>
<span class="w">                                            </span><span class="nt">&lt;xsd:documentation</span><span class="w"> </span><span class="na">xml:lang=</span><span class="s">"es"</span><span class="nt">&gt;</span>Referencia<span class="w"> </span>interna<span class="w"> </span>al<span class="w"> </span>fichero<span class="w"> </span>que<span class="w"> </span>incluye<span class="w"> </span>la<span class="w"> </span>firma.<span class="nt">&lt;/xsd:documentation&gt;</span>
<span class="w">                                        </span><span class="nt">&lt;/xsd:annotation&gt;</span>
<span class="w">                                    </span><span class="nt">&lt;/xsd:element&gt;</span>
<span class="w">                                </span><span class="nt">&lt;/xsd:choice&gt;</span>
<span class="w">                            </span><span class="nt">&lt;/xsd:complexType&gt;</span>
<span class="w">                        </span><span class="nt">&lt;/xsd:element&gt;</span>
<span class="w">                    </span><span class="nt">&lt;/xsd:choice&gt;</span>
<span class="w">                </span><span class="nt">&lt;/xsd:complexType&gt;</span>
<span class="w">            </span><span class="nt">&lt;/xsd:element&gt;</span>
<span class="w">        </span><span class="nt">&lt;/xsd:sequence&gt;</span>
<span class="w">        </span><span class="nt">&lt;xsd:attribute</span><span class="w"> </span><span class="na">name=</span><span class="s">"Id"</span><span class="w"> </span><span class="na">type=</span><span class="s">"xsd:ID"</span><span class="w"> </span><span class="na">use=</span><span class="s">"optional"</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;xsd:attribute</span><span class="w"> </span><span class="na">name=</span><span class="s">"ref"</span><span class="w"> </span><span class="na">type=</span><span class="s">"xsd:string"</span><span class="w"> </span><span class="na">use=</span><span class="s">"optional"</span><span class="nt">&gt;</span>
<span class="w">            </span><span class="nt">&lt;xsd:annotation&gt;</span>
<span class="w">                </span><span class="nt">&lt;xsd:documentation</span><span class="w"> </span><span class="na">xml:lang=</span><span class="s">"es"</span><span class="nt">&gt;</span>Almacena<span class="w"> </span>el<span class="w"> </span>identificador<span class="w"> </span>del<span class="w"> </span>nodo<span class="w"> </span>que<span class="w"> </span>se<span class="w"> </span>está<span class="w"> </span>firmando.<span class="w"> </span>En<span class="w"> </span>caso<span class="w"> </span>de<span class="w"> </span>firmas<span class="w"> </span>multinodo,<span class="w"> </span>se<span class="w"> </span>incluirá<span class="w"> </span>una<span class="w"> </span>lista<span class="w"> </span>separada<span class="w"> </span>por<span class="w"> </span>comas<span class="w"> </span>de<span class="w"> </span>los<span class="w"> </span>identificadores<span class="w"> </span>de<span class="w"> </span>los<span class="w"> </span>nodos<span class="w"> </span>firmados.<span class="nt">&lt;/xsd:documentation&gt;</span>
<span class="w">            </span><span class="nt">&lt;/xsd:annotation&gt;</span>
<span class="w">        </span><span class="nt">&lt;/xsd:attribute&gt;</span>
<span class="w">    </span><span class="nt">&lt;/xsd:complexType&gt;</span>
<span class="nt">&lt;/xsd:schema&gt;</span>
</code></pre></div>
</article>
</section>
</div></main>
<footer id="extras"><div class="body">
<p>
      Puedes mejorar o corregir esta página con un <a href="https://docs.github.com/es/github/collaborating-with-pull-requests/proposing-changes-to-your-work-with-pull-requests/about-pull-requests" target="_blank">pull requests</a>
      sobre
          su código <a class="urlmd" href="https://github.com/s-nt-s/GSI/tree/master/content/posts/xsd/firmasEni.md" target="_blank">markdown</a> o
      su <a href="https://github.com/s-nt-s/GSI/tree/master/themes/mini/templates/article.html" target="_blank">template</a>.
    </p><p>
</p><p>También puedes reportar un fallo o dejar alguna sugerencia poniendo un <a href="https://github.com/s-nt-s/GSI/issues" target="_blank">issue</a>.</p>
<p>
<a class="logo" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.es" rel="license" style="vertical-align: top;" target="_blank">
<img alt="Licencia Creative Commons" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png"/></a>
      Esta obra está bajo una <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.es" rel="license" target="_blank">Licencia Creative Commons Atribución-NoComercial-CompartirIgual 4.0 Internacional</a>.
    </p>
<div>
</div></div></footer></body>
</html>